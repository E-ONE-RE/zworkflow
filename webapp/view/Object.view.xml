<mvc:View controllerName="Workflow.controller.Object" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:semantic="sap.m.semantic"
	xmlns:footerbar="sap.ushell.ui.footerbar" xmlns:smartTable="sap.ui.comp.smarttable"
	xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
	<Page navButtonPress="onNavBack" showNavButton="true" title="{i18n>objectTitle}" busy="{objectView>/busy}"
		busyIndicatorDelay="{objectView>/delay}" floatingFooter="true">
	
		
	<content>
	<Panel id="panel" width="10rem" class="sapUiResponsiveMargin" backgroundDesign="Transparent" expandable="true">
		<headerToolbar>
			<Toolbar height="2rem">
				<Title text="Legend"/>
				<ToolbarSpacer />
			</Toolbar>
		</headerToolbar>
		<content>
			    <ObjectStatus icon="sap-icon://employee-approvals" text="Approved"></ObjectStatus>
				<ObjectStatus icon= "sap-icon://employee-rejections" text="Rejected"></ObjectStatus>
				<ObjectStatus icon="sap-icon://initiative" text="Moved"></ObjectStatus>
				<ObjectStatus icon="sap-icon://pending" text="Pending"></ObjectStatus>
		</content>
	</Panel>

			<smartTable:SmartTable id="ST_storico" entitySet="TaskHstSet" tableType="Table" useExportToExcel="true" useVariantManagement="false"
				header="Task History" enableCustomFilter="false" showRowCount="true" enableAutoBinding="true" tableBindingPath="TaskToHst"
				class="sapUiResponsiveContentPadding">
				
				<Table id="Table2" width="auto" class="sapUiResponsiveMargin" growing="true" growingScrollToLoad="true" backgroundDesign="Translucent">
					<columns>						<Column id="C1" width="auto" minScreenWidth="Phone" visible="true"
							customData:p13nData='\{"leadingProperty":"ZWfUtente", "columnKey":"ZWfUtente", "additionalProperty": "ZDtStart,ZHhStart,ZWfText,ZDtStop,ZHhStop,ZWfProcid,ZWfTaskid,ZWfAzione"}'>
							<Text text="Utente" id="nameColumnTitle1"/>
						</Column>
						<Column id="C2" width="auto" minScreenWidth="Phone" visible="true"
							customData:p13nData='\{"leadingProperty":"ZDtStart", "columnKey":"ZDtStart"}'>
							<Text text="Data Inizio" id="nameColumnTitle2"/>
						</Column>
						<Column id="C3" width="auto" minScreenWidth="Phone" visible="true"
							customData:p13nData='\{"leadingProperty":"ZHhStart", "columnKey":"ZHhStart"}'>
							<Text text="Ora inizio" id="nameColumnTitle3"/>
						</Column>
						<Column id="C4" width="auto" minScreenWidth="Phone" visible="true"
							customData:p13nData='\{"leadingProperty":"ZWfText", "columnKey":"ZWfText"}'>
							<Text text="Descrizione attivitÃ " id="nameColumnTitle4"/>
						</Column>
						<Column id="C5" width="auto" minScreenWidth="Phone" visible="true"
							customData:p13nData='\{"leadingProperty":"ZDtStop", "columnKey":"ZDtStop"}'>
							<Text text="Data fine" id="nameColumnTitle5"/>
						</Column>
						<Column id="C6" width="auto" minScreenWidth="Phone" visible="true"
							customData:p13nData='\{"leadingProperty":"ZHhStop", "columnKey":"ZHhStop"}'>
							<Text text="Ora fine" id="nameColumnTitle6"/>
						</Column>
						<Column id="C7" width="auto" minScreenWidth="Phone" visible="true"
							customData:p13nData='\{"leadingProperty":"ZWfProcid", "columnKey":"ZWfProcid"}'>
							<Text text="Id Processo" id="nameColumnTitle7"/>
						</Column>
						<Column id="C8" width="auto" minScreenWidth="Phone" visible="true"
							customData:p13nData='\{"leadingProperty":"ZWfTaskid", "columnKey":"ZWfTaskid"}'>
							<Text text="Id Task" id="nameColumnTitle8"/>
						</Column>
						<Column id="C9" width="auto" minScreenWidth="Phone" visible="true"
							customData:p13nData='\{"leadingProperty":"ZWfAzione", "columnKey":"ZWfAzione"}'>
							<Text text="Azione" id="nameColumnTitle9"/>
						</Column>
					</columns>
					
					<items>
						<ColumnListItem type="inactive">
							<cells>
								<ObjectIdentifier title="{ZWfUtente}"/>
							</cells>
							<cells>
								<ObjectIdentifier title="{path: 'ZDtStart', formatter: '.formatter.formatDate'}"/>
							</cells>
							<cells>
								<ObjectIdentifier title="{path: 'ZHhStart', formatter: '.formatter.formatTime'}"/>
							</cells>
							<cells>
								<ObjectIdentifier title="{ZWfText}"/>
							</cells>
							<cells>
								<ObjectIdentifier title="{path: 'ZDtStop', formatter: '.formatter.formatDate'}"/>
							</cells>
							<cells>
								<ObjectIdentifier title="{path: 'ZHhStop', formatter: '.formatter.formatTime'}"/>
							</cells>
							<cells>
								<ObjectIdentifier title="{ZWfProcid}"/>
							</cells>
							<cells>
								<ObjectIdentifier title="{ZWfTaskid}"/>
							</cells>
							<cells>
							<ObjectStatus icon="{ path: 'ZWfAzione', formatter: '.formatter.iconAction' }"></ObjectStatus>
							<ObjectIdentifier title="{path: 'ZWfAzione', formatter:'.formatter.iconAction'}"/>
							</cells>
						</ColumnListItem>
					</items>
					
				</Table>
				
				<smartTable:layoutData>
					<FlexItemData growFactor="1" baseSize="0%"/>
				</smartTable:layoutData>
				
			</smartTable:SmartTable>
		</content>
		<footer>
			<OverflowToolbar id="footerToolbar">
				<ToolbarSpacer/>
				<Button id="shareButton" tooltip="{i18n>shareTooltip}" icon="sap-icon://action" press="onSharePress">
					<dependents>
						<ActionSheet id="shareSheet" showCancelButton="true" placement="Top">
							<buttons>
								<Button id="shareEmail" icon="sap-icon://email" text="{i18n>shareSendEmail}" press="onShareEmailPress"/>
								<Button id="shareInJam" icon="sap-icon://jam" text="{i18n>shareOnJamTitle}" press="onShareInJamPress" visible="{FLP>/isShareInJamActive}"/>
								<footerbar:AddBookmarkButton id="shareTile" appData="{ path: 'objectView>/saveAsTileTitle', formatter: '.formatter.shareTileData' }"/>
							</buttons>
						</ActionSheet>
					</dependents>
				</Button>
			</OverflowToolbar>
		</footer>
	</Page>
</mvc:View>